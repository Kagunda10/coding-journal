<!--
If you want to include any custom html just before </body>, put it in /layouts/partials/footer_custom.html
Do not put anything in this file - it's only here so that hugo won't throw an error if /layouts/partials/footer_custom.html doesn't exist.
-->
<script type="text/javascript">


$(function () {
    document.querySelectorAll('div.placeholder').forEach( div => {
        if ( ! div.hasAttribute("data-large")) {
            return;
        }

        const original = div.getAttribute("data-large");
        const alt =  div.getAttribute("data-alt");
        fetch(original)
            .then(function (response) {
                if (response && response.status == 200){                    
                    var image = new Image();
                    image.setAttribute("src", original)
                    image.setAttribute("alt", alt)
                    image.onload = function () {
                      image.classList.add('loaded');
                    };
                    div.append(image);
                }
            })
            .catch(function(err) {
                console.error('lazy error: ', err);
            });
    });
});
</script>

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(["setDoNotTrack", true]);
  _paq.push(["disableCookies"]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.kulman.sk/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'js/index.php'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->